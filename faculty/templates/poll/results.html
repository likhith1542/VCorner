{% extends "poll/base2.html" %}

{% block title %}Results{% endblock %}

{% block scripts %}
<script>
    $(document).ready(function () {
        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: ['{{poll.option_one}}', '{{poll.option_two}}', '{{poll.option_three}}', '{{poll.option_four}}', '{{poll.option_five}}', '{{poll.option_six}}', '{{poll.option_seven}}', '{{poll.option_eight}}', '{{poll.option_nine}}', '{{poll.option_ten}}'],
                datasets: [{
                    label: 'Number of Votes',
                    data: ['{{poll.option_one_count}}', '{{poll.option_two_count}}', '{{poll.option_three_count}}', '{{poll.option_four_count}}', '{{poll.option_five_count}}', '{{poll.option_six_count}}', '{{poll.option_seven_count}}', '{{poll.option_eight_count}}', '{{poll.option_nine_count}}', '{{poll.option_ten_count}}'],
                    backgroundColor: [
                        '#003f5c',
                        '#2f4b7c',
                        '#665191',
                        '#a05195',
                        '#d45087',
                        '#f95d6a',
                        '#ff7c43',
                        '#ffa600',
                        '#de425b',
                        '#488f31',
                    ],
                    borderColor: [
                        '#003f5c',
                        '#2f4b7c',
                        '#665191',
                        '#a05195',
                        '#d45087',
                        '#f95d6a',
                        '#ff7c43',
                        '#ffa600',
                        '#de425b',
                        '#488f31',
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive:true,
                maintainAspectRatio:false,
                title: {
                    display: true,
                    text: '{{ poll.question }}',
                    fontSize:20
                },
                scales: {
                    display:false,
                    // yAxes: [{
                    //     ticks: {
                    //         beginAtZero: true
                    //     }
                    // }]
                }
            }
        });
    });
</script>

{% endblock %}
{% block can %}
<div class="forcharts" style="width: 100%; height: 80vh;" >
    <canvas id="myChart"></canvas>
</div>
<center>
    <br><div>
        <a class="btn btn-primary" href="/review" role="button">Back</a>
    </div>
</center>
{% endblock %}
{% block main %}
<!-- <div class="row">
    <div class="col-lg-8 col-lg-offset-2">
        <div class="panel panel-default">
            <div class="panel-heading">
                <center><h3 class="panel-title">Poll Result</h3></center>
            </div>
            <div class="panel-body">
                <center><h3>{{ poll.question }}</h3></center>
            </div>
            <table>
                <tr>
                    <th>Faculty Name</th>
                    <th>Number of votes</th>
                </tr>
                <tr>
                    <td>{{ poll.option_one }}</td>
                    <td>{{ poll.option_one_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_two }}</td>
                    <td>{{ poll.option_two_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_three }}</td>
                    <td>{{ poll.option_three_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_four }}</td>
                    <td>{{ poll.option_four_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_five }}</td>
                    <td>{{ poll.option_five_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_six }}</td>
                    <td>{{ poll.option_six_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_seven }}</td>
                    <td>{{ poll.option_seven_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_eight }}</td>
                    <td>{{ poll.option_eight_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_nine }}</td>
                    <td>{{ poll.option_nine_count }}</td>
                </tr>
                <tr>
                    <td>{{ poll.option_ten }}</td>
                    <td>{{ poll.option_ten_count }}</td>
                </tr>
                <tr style="background: royalblue;" >
                    <th>Total number of votes</th>
                    <th>{{ poll.total }}</th>
                </tr>
            </table>

        </div>
    </div>
</div> -->
{% endblock %}